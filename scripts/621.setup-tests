"/mnt/lospatos/playground/Vision/debugger/scripts/621.setup-core" asFileContents evaluate;

################################################################

^self defineMethod: [ | nextExpression |
    suspensions do: [ nextExpression ];
];

^self defineMethod: [ | nextMessage |
    suspensions do: [ nextMessage ];
];

^self defineMethod: [ | abort |
    suspensions do: [ abort ];
];

^self defineMethod: [ | commit |
    suspensions do: [ commit ];
];

^self defineMethod: [ | resume |
    suspensions do: [ resume ];
];

^self defineMethod: [ | subscriptions |
    Debug ModelObject Subscription masterList
];

^self defineMethod: [ | suspensions |
    Debug ModelObject Suspension masterList
];


################################################################

Block defineMethod: [ | debug |
    ^self bgSus asDebugModelObject send: [
	!suspend <- [ | :sus |
	    "+++ " print; sus displayInfo;
	];
	suspendee onContextSNFSuspension: suspend;
	suspendee onContextFaultSuspension: suspend;
	suspendee onContextAccessSuspension: suspend;
	suspendee onContextInterruptSuspension: suspend;
	^self resume
    ]
];
